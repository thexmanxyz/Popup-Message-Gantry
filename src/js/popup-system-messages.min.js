function PopupSystemMessages(){var n="#system-message-container",o=".g-system-messages",d=".close",t=".alert",i="messages-loaded",a="messages-loaded-body";this.initialize=function(e){this.addOpenModal(e),this.addCloseModal(e),this.addEscapeKeyListener(e)},this.addOpenModal=function(e){e(n).bind("DOMNodeInserted",function(){this.openModal(e)})},this.addCloseModal=function(e){e(n).bind("DOMNodeRemoved",function(){this.closeModal(e)})},this.addEscapeKeyListener=function(e){e(document).on("keyup",this.getKeyUpHandling(e))},this.openModal=function(e){var s=e(n).closest(o);s.addClass(i),s.addClass("already-open"),s.find(d).focus(),e("body").addClass(a)},this.closeModal=function(e){e(n).closest(o).removeClass(i),e("body").removeClass(a)},this.getKeyUpHandling=function(s){return function(e){"27"==e.keyCode&&0<s(o+"."+i).length&&s(n).find(t+" "+d).click()}},this.autoOpen=function(e){0<e(n).closest(o).find(t).length&&this.openModal(e)}}jQuery(window).load(function(e){var s=new PopupSystemMessages;s.initialize(e),s.autoOpen(e)});