function PopupSystemMessages(){var n="#system-message-container",o=".g-system-messages",t=".close",d=".alert",a="messages-loaded",i="messages-loaded-body";this.initialize=function(e){this.addOpenModal(e),this.addCloseModal(e),this.addEscapeKeyListener(e)},this.addOpenModal=function(e){var s=this;e(n).bind("DOMNodeInserted",function(){s.openModal(e)})},this.addCloseModal=function(e){var s=this;e(n).bind("DOMNodeRemoved",function(){s.closeModal(e)})},this.addEscapeKeyListener=function(e){e(document).on("keyup",this.getKeyUpHandling(e))},this.openModal=function(e){var s=e(n).closest(o);s.addClass(a),s.addClass("already-open"),s.find(t).focus(),e("body").addClass(i)},this.closeModal=function(e){e(n).closest(o).removeClass(a),e("body").removeClass(i)},this.getKeyUpHandling=function(s){return function(e){"27"==e.keyCode&&0<s(o+"."+a).length&&s(n).find(d+" "+t).click()}},this.autoOpen=function(e){0<e(n).closest(o).find(d).length&&this.openModal(e)}}!function(s){jQuery(window).load(function(){var e=new PopupSystemMessages;e.initialize(s),e.autoOpen(s)})}(jQuery);